<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .area {
            height: 200px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Practice1</h1>
    <form action="">
        <fieldset>
            <legend>취미</legend>
            <table>
                <tr>
                    <td>
                        <lable>
                            <input type="checkbox" id="all-hobby-check-box" onchange="allCheck(this)">전체선택
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="종합">종합
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="소설">소설
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="시/에세이">시/에세이
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="경제/경영">경제/경영
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="자기계발">자기계발
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="아동">아동
                        </lable>
                    </td>
                </tr>
                <tr>
                    <td>
                        <!-- 비워둠 -->
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="여행">여행
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="과학">과학
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="역사/문화">역사/문화
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="외국어">외국어
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="컴퓨터">컴퓨터
                        </lable>
                    </td>
                    <td>
                        <lable>
                            <input type="checkbox" name="hobby" value="만화">만화
                        </lable>
                    </td>
                </tr>
            </table>
        </fieldset>
    </form>

    <br>

    <button onclick="wirghthobbyList()">카테고리선택</button>
    <div class="area" id="area1"></div>

    <script>
        function wirghthobbyList() {
            const area = document.getElementById("area1");

            const hobbyCheckBoxList = document.getElementsByName("hobby");

            let str = "";

            for(let box of hobbyCheckBoxList) {
                if(box.checked) {
                    str += box.value + " ";
                }
            }

            area.innerHTML = str;
        }

        function allCheck(_allCheckBox) {
            // 전체 선택 체크박스의 값
            checked = _allCheckBox.checked;

            // name이 hobby인 모든 체크박스를 checked로 변경
            const hobbyCheckBoxList = document.getElementsByName("hobby");

            for (let box of hobbyCheckBoxList) {
                box.checked = checked;
            }
        }

        function isAllHobbyChecked() {
            // 모든 체크박스가 체크가 되어있는지 검사 후
            // 모두 체크 -> return true
            // 하나라도 아니라면 -> return false
            
            const hobbyCheckBoxList = document.getElementsByName("hobby");
            for(let box of hobbyCheckBoxList) {
                if(!box.checked) {
                    return false;
                }
            }
            
            return true;
        }

        const hobbyCheckBoxList = document.getElementsByName("hobby");
        for(let box of hobbyCheckBoxList) {
            box.onchange = function() {
                const allCheckBox =document.getElementById("all-hobby-check-box");
                allCheckBox.checked = isAllHobbyChecked();
            }
        }
        </script>
</body>
</html>